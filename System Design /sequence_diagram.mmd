%%{init: {
  'theme': 'white',
  'themeVariables': {
    'primaryColor': '#4CAF50',
    'primaryTextColor': '#FFFFFF'
  }
}}%%

sequenceDiagram
    participant S as ðŸ‘¨ðŸŽ“ Student
    participant SYS as ðŸ—ï¸ System
    participant SA as ðŸ‘¨ðŸ’¼ Sub-Admin
    participant A as ðŸ‘¨ðŸ’» Admin
    participant EMAIL as ðŸ“§ Email Service
    participant GH as ðŸ”— GitHub API

    Note over S,GH: Project Submission & Review Flow
    
    S->>SYS: Login/Register
    SYS->>S: Authentication Success
    
    S->>SYS: Submit Project
    SYS->>SYS: Validate Files
    SYS->>SYS: Store Project Data
    SYS->>EMAIL: Send Submission Confirmation
    EMAIL->>S: Confirmation Email
    
    SYS->>SA: Auto-assign for Review
    SA->>SYS: Review Project
    
    alt Sub-Admin Approves
        SA->>SYS: Approve Project
        SYS->>A: Forward for Final Review
        A->>SYS: Final Decision
        
        alt Admin Approves
            SYS->>EMAIL: Send Approval Notification
            EMAIL->>S: Project Approved
        else Admin Rejects
            SYS->>EMAIL: Send Rejection Notification
            EMAIL->>S: Project Rejected
        end
        
    else Sub-Admin Rejects
        SA->>SYS: Reject Project
        SYS->>EMAIL: Send Rejection Notification
        EMAIL->>S: Project Rejected
    end
    
    Note over S,GH: GitHub Integration Flow
    
    S->>SYS: Update Profile with GitHub Username
    SYS->>GH: Fetch User Profile
    GH->>SYS: Return Profile Data
    SYS->>GH: Fetch Repositories
    GH->>SYS: Return Repository Data
    SYS->>S: Display GitHub Integration